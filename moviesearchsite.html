<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>  <header id="header">
    <input type="search"  id="search" >
</header>
    <div id="container">
       
    </div>

 
</body>
<script>
const APIURL =
    "https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&page=1";
const IMGPATH = "https://image.tmdb.org/t/p/w1280";
const SEARCHAPI =
    "https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=";
    const moviebox=document.querySelector("#container")
    const getmovie=async(api)=>{
        const respon=await fetch(api)
        const data=await respon.json()
        showmovie(data.results)
    }
    getmovie(APIURL)
    const showmovie=(datas)=>{
        moviebox.innerHTML=""
      datas.forEach(item => {
        console.log(item)
         const box=document.createElement("div")
         box.classList.add("div")
         box.innerHTML=` <div id="divv">
           <img src="${IMGPATH+item.poster_path}" height="100px" width="150px">
            <h1> ${item.title}</h1>
        </div>` ;
         moviebox.appendChild(box)
      });
    }
    document.querySelector("#search").addEventListener("keyup",function(event){
        if(event.target.value!=""){
        getmovie(SEARCHAPI+event.target.value ) }
        else{
            getmovie(APIURL)
        }

    })


 </script>
</html>
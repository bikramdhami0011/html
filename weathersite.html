<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>

</style>
<body>  
   <div id="div1">
      <form id="form" >
         <input type="text" id="search"  />
     </form>
   
    <main id="main">
      
    </main>
   </div>
</body>
<script>
// api=http://api.openweathermap.org/data/2.5/air_pollution?lat={lat}&lon={lon}&appid={API key}
 API_key=`3265874a2c77ae4a04bb96236a642d2f`
 const main2=document.querySelector("#main")
const getweather=async(city)=>{
   url=`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_key}&units=matric`
  const respon=await fetch(url)
  const data=await respon.json()
  main2.innerHTML=""
  try {
   if(data.cod=="404"){
   main2.innerHTML='<h2> City Not Found <h2>'
      
  }
  } catch (error) {
   
  }

  const card=`  <ul>
   <li> </li>
        <li><img src="https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png" > </li>
        <li>temperature: ${Math.floor(data.main.temp-273.15)}Â°C</li>
        <li>${data.weather[0].main}</li>
     </ul> `
     main2.innerHTML=card
  console.log(data)

}
// getweather("delhi")
 var search= document.querySelector('#search')
 
 document.querySelector("#form").addEventListener("submit",submit)
  function submit(event) {
   console.log(event)
   console.log(search.value)
 if(search.value!="") {
   getweather(search.value)
   search.value=""
 }
  event.preventDefault();

  
  }
 


 </script>
</html>
